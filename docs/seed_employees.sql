-- ============================================================================
-- Karina AI: Сотрудники компании
-- ============================================================================
-- Этот скрипт добавляет всех сотрудников из personal.md в таблицу employees
-- Запуск: выполнить в Supabase SQL Editor
-- ============================================================================

-- Проверка существования таблицы (если нет - создаём)
CREATE TABLE IF NOT EXISTS employees (
    id BIGSERIAL PRIMARY KEY,
    full_name TEXT NOT NULL,
    first_name TEXT NOT NULL,
    last_name TEXT NOT NULL,
    position TEXT NOT NULL,
    department TEXT NOT NULL,
    characteristics TEXT,
    birthday DATE,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Очистка существующих данных (ОПЦИОНАЛЬНО - закомментировать если не нужно)
-- DELETE FROM employees;

-- ============================================================================
-- РУКОВОДСТВО
-- ============================================================================
INSERT INTO employees (full_name, first_name, last_name, position, department, characteristics, birthday) VALUES
('Беляев Сергей', 'Сергей', 'Беляев', 'Генеральный директор', 'Руководство', 'Стратег с масштабным мышлением. Умеет видеть возможности там, где другие видят задачи.', '1970-10-05'),
('Стариков Вадим', 'Вадим', 'Стариков', 'Руководитель ОП', 'Руководство', 'Системный управленец с чётким пониманием процессов.', '1970-06-24'),
('Зорин Михаил', 'Михаил', 'Зорин', 'Руководитель ТО', 'Руководство', 'Технический лидер, ориентированный на качество и практический результат.', '1970-12-09'),
('Лобанов Евгений', 'Евгений', 'Лобанов', 'Руководитель МО', 'Руководство', 'Организованный и ответственный координатор монтажного направления.', '1970-01-03'),
('Потапова Людмила', 'Людмила', 'Потапова', 'Руководитель ОС', 'Руководство', 'Внимательный и последовательный управленец.', '1970-03-24'),

-- ============================================================================
-- ФИНАНСОВЫЙ БЛОК
-- ============================================================================
('Андросова Анастасия', 'Анастасия', 'Андросова', 'Главный бухгалтер', 'Финансовый блок', 'Профессионал с высоким уровнем ответственности.', '1970-06-21'),
('Орлова Елена', 'Елена', 'Орлова', 'Зам. главного бухгалтера', 'Финансовый блок', 'Надёжная опора бухгалтерии. Внимательна к деталям.', '1970-05-23'),
('Ермакова Елена', 'Елена', 'Ермакова', 'Бухгалтер', 'Финансовый блок', 'Скрупулёзный и дисциплинированный специалист.', '1970-01-07'),
('Панченко Алина', 'Алина', 'Панченко', 'Помощник бухгалтера', 'Финансовый блок', 'Исполнительная и ответственная сотрудница.', '1970-10-05'),

-- ============================================================================
-- АДМИНИСТРАТИВНЫЙ БЛОК
-- ============================================================================
('Котельникова Екатерина', 'Екатерина', 'Котельникова', 'Офис-менеджер', 'Административный блок', 'Организатор офисной жизни.', '1970-09-03'),

-- ============================================================================
-- ОТДЕЛ ПРОДАЖ
-- ============================================================================
('Василенко Вадим', 'Вадим', 'Василенко', 'Менеджер по продажам', 'Отдел продаж', 'Коммуникабельный и ориентированный на результат специалист.', '1970-05-06'),
('Кречетова Ольга', 'Ольга', 'Кречетова', 'Менеджер по продажам', 'Отдел продаж', 'Ответственная и внимательная к клиентским потребностям.', '1970-07-13'),
('Проскурякова Анастасия', 'Анастасия', 'Проскурякова', 'Менеджер по продажам', 'Отдел продаж', 'Энергичная и инициативная.', '1970-04-01'),
('Горбунова Анастасия', 'Анастасия', 'Горбунова', 'Менеджер по продажам', 'Отдел продаж', 'Спокойная и уверенная в переговорах.', '1970-10-25'),
('Кириллов Владислав', 'Владислав', 'Кириллов', 'Менеджер по продажам', 'Отдел продаж', 'Настойчивый и целеустремлённый.', NULL),

-- ============================================================================
-- ПРОЕКТНОЕ НАПРАВЛЕНИЕ
-- ============================================================================
('Прохоров Николай', 'Николай', 'Прохоров', 'Проджект-менеджер', 'Проектное направление', 'Координатор процессов и сроков.', '1970-05-13'),

-- ============================================================================
-- ТЕХНИЧЕСКИЙ ОТДЕЛ
-- ============================================================================
('Старцев Алексей', 'Алексей', 'Старцев', 'Технический специалист', 'Технический отдел', 'Практик с аналитическим мышлением.', '1970-07-29'),
('Брусникин Антон', 'Антон', 'Брусникин', 'Технический специалист', 'Технический отдел', 'Спокойный и сосредоточенный специалист.', '1970-02-27'),
('Ушаков Иван', 'Иван', 'Ушаков', 'Технический специалист', 'Технический отдел', 'Компетентный и уважаемый коллегами профессионал.', '1970-02-16'),

-- ============================================================================
-- МОНТАЖНЫЙ ОТДЕЛ
-- ============================================================================
('Зуев Сергей', 'Сергей', 'Зуев', 'Монтажный специалист', 'Монтажный отдел', 'Ответственный исполнитель.', '1970-08-14'),
('Каширов Сергей', 'Сергей', 'Каширов', 'Монтажный специалист', 'Монтажный отдел', 'Практичный и дисциплинированный сотрудник.', '1970-08-09'),
('Кузин Кирилл', 'Кирилл', 'Кузин', 'Монтажный специалист', 'Монтажный отдел', 'Энергичный и надёжный.', '1970-01-30'),
('Сысоев Сергей', 'Сергей', 'Сысоев', 'Монтажный специалист', 'Монтажный отдел', 'Технически грамотный и внимательный к деталям специалист. Классный электрик.', '1970-03-16'),
('Чиркин Алексей', 'Алексей', 'Чиркин', 'Монтажный специалист', 'Монтажный отдел', 'Ответственный и стабильный профессионал.', '1970-02-01'),
('Евдокимов Владислав', 'Владислав', 'Евдокимов', 'Монтажный специалист', 'Монтажный отдел', 'Целеустремлённый и трудолюбивый сотрудник.', '1970-07-13'),
('Водяной Валерий', 'Валерий', 'Водяной', 'Монтажный специалист', 'Монтажный отдел', 'Опытный практик.', NULL),
('Гилязов Марат', 'Марат', 'Гилязов', 'Монтажный специалист', 'Монтажный отдел', 'Исполнительный и внимательный к качеству монтажа специалист.', NULL),

-- ============================================================================
-- ЭКСПЛУАТАЦИЯ И СКЛАД
-- ============================================================================
('Новичков Александр', 'Александр', 'Новичков', 'Инженер эксплуатации здания', 'Эксплуатация и склад', 'Следит за исправностью инфраструктуры.', '1970-10-21'),
('Демидов Илья', 'Илья', 'Демидов', 'Менеджер склада', 'Эксплуатация и склад', 'Организованный и аккуратный сотрудник.', '1970-07-22'),

-- ============================================================================
-- ПОДДЕРЖКА
-- ============================================================================
('Мерзлякова Татьяна', 'Татьяна', 'Мерзлякова', 'Уборщица', 'Поддержка', 'Создаёт чистоту и комфорт.', NULL);

-- ============================================================================
-- ПРОВЕРКА
-- ============================================================================
-- SELECT COUNT(*) FROM employees;
-- SELECT department, COUNT(*) FROM employees GROUP BY department ORDER BY department;
